# match-requires [![NPM version](https://img.shields.io/npm/v/match-requires.svg?style=flat)](https://www.npmjs.com/package/match-requires) [![NPM monthly downloads](https://img.shields.io/npm/dm/match-requires.svg?style=flat)](https://npmjs.org/package/match-requires) [![NPM total downloads](https://img.shields.io/npm/dt/match-requires.svg?style=flat)](https://npmjs.org/package/match-requires) [![Linux Build Status](https://img.shields.io/travis/jonschlinkert/match-requires.svg?style=flat&label=Travis)](https://travis-ci.org/jonschlinkert/match-requires)

> Match require statements in a string. Returns an array of matching require statements. Each match is an object with line number, variable name, and module name. Statements in code comments are ignored.

Please consider following this project's author, [Jon Schlinkert](https://github.com/jonschlinkert), and consider starring the project to show your :heart: and support.

## Install

Install with [npm](https://www.npmjs.com/):

```sh
$ npm install --save match-requires
```

## Usage

```js
const matches = require('match-requires');
console.log(matches('require(\'a-b-c\');\nvar fooBar = require(\'foo-bar\');'));
```

Returns:

```js
[ { string: 'require(\'a-b-c\');', 
    variable: '', 
    name: 'a-b-c' },
  { string: 'var fooBar = require(\'foo-bar\');',
    variable: 'fooBar',
    name: 'foo-bar' } ]
```

### Ignore requires in code comments

To ignore `require()` statements found inside code comments, pass `true` as the second argument to strip comments before matching. Alternatively, you may pass a function as the second argument to use your own approach to stripping comments.

**_Without_ comments stripped**

```js
console.log(matches('/* require(\'a-b-c\');*/\nvar fooBar = require(\'foo-bar\');')); 
// [ { string: 'require(\'a-b-c\');', variable: '', name: 'a-b-c' },
//   { string: 'var fooBar = require(\'foo-bar\');',
//     variable: 'fooBar',
//     name: 'foo-bar' } ]
```

**_With_ comments stripped**

```js
console.log(matches('/* require(\'a-b-c\');*/\nvar fooBar = require(\'foo-bar\');', true));
// [ { string: 'var fooBar = require(\'foo-bar\');',
//     variable: 'fooBar',
//     name: 'foo-bar' } ]
```

**_With_ custom function**

```js
const str = '/* require(\'a-b-c\');*/\nvar fooBar = require(\'foo-bar\');';
const fn = require('some-comment-stripping-library');
console.log(matches(str, fn));
// [ { string: 'var fooBar = require(\'foo-bar\');',
//     variable: 'fooBar',
//     name: 'foo-bar' } ]
```

## About

<details>
<summary><strong>Contributing</strong></summary>

Pull requests and stars are always welcome. For bugs and feature requests, [please create an issue](../../issues/new).

</details>

<details>
<summary><strong>Running Tests</strong></summary>

Running and reviewing unit tests is a great way to get familiarized with a library and its API. You can install dependencies and run tests with the following command:

```sh
$ npm install && npm test
```

</details>

<details>
<summary><strong>Building docs</strong></summary>

_(This project's readme.md is generated by [verb](https://github.com/verbose/verb-generate-readme), please don't edit the readme directly. Any changes to the readme must be made in the [.verb.md](.verb.md) readme template.)_

To generate the readme, run the following command:

```sh
$ npm install -g verbose/verb#dev verb-generate-readme && verb
```

</details>

### Related projects

You might also be interested in these projects:

* [requires-regex](https://www.npmjs.com/package/requires-regex): Regular expression for matching javascript require statements. | [homepage](https://github.com/jonschlinkert/requires-regex "Regular expression for matching javascript require statements.")
* [to-regex-range](https://www.npmjs.com/package/to-regex-range): Pass two numbers, get a regex-compatible source string for matching ranges. Validated against more than… [more](https://github.com/micromatch/to-regex-range) | [homepage](https://github.com/micromatch/to-regex-range "Pass two numbers, get a regex-compatible source string for matching ranges. Validated against more than 2.78 million test assertions.")
* [year-range-regex](https://www.npmjs.com/package/year-range-regex): Generates a regular expression for validating a range of years. | [homepage](https://github.com/jonschlinkert/year-range-regex "Generates a regular expression for validating a range of years.")

### Author

**Jon Schlinkert**

* [LinkedIn Profile](https://linkedin.com/in/jonschlinkert)
* [GitHub Profile](https://github.com/jonschlinkert)
* [Twitter Profile](https://twitter.com/jonschlinkert)

### License

Copyright © 2018, [Jon Schlinkert](https://github.com/jonschlinkert).
Released under the [MIT License](LICENSE).

***

_This file was generated by [verb-generate-readme](https://github.com/verbose/verb-generate-readme), v0.6.0, on April 15, 2018._